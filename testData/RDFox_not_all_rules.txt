PREFIX test: <https://rdfox.com/default-base-iri/>

[?x, test:hasNeighbour, ?y] :- [?y, test:hasNeighbour, ?x] .

[?x, test:hasNeighbour, ?z] :- [?x, test:hasNeighbour, ?y], [?y, test:hasNeighbour, ?z] .

[?x, test:p1, ?y] :- [?x, test:hasNeighbour, ?y] .

[?x, test:p2, ?y] :- [?x, test:p1, ?y] .

[?x, test:p1, ?y] :- [?x, test:p2, ?z], [?z, test:p1, ?y] .

[?x, test:p3, ?y] :- [?x, test:p0, ?y] .

[?x, test:p4, ?y] :- [?x, test:p3, ?y] .

[?x, test:p5, ?y] :- [?x, test:p2, ?y], not [?x, test:p4, ?y] .

[?x, test:p6, ?y] :- [?x, test:hasNeighbour, ?z], [?z, test:p2, ?y], not [?z, test:p5, ?y] .
